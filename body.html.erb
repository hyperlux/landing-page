<script type="text/x-handlebars" data-template-name="/connectors/above-main-container/dashboard">
  <style>
    .dashboard-grid {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      grid-template-rows: auto auto auto;
      gap: 20px;
      margin-bottom: 20px;
    }

    .welcome-banner {
      grid-column: 1 / 4;
      background-color: #e17055;
      color: #ffffff;
      padding: 20px;
      border-radius: 5px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .btn-learn-more {
      background-color: #b7410e;
      color: #ffffff;
      padding: 10px 20px;
      text-decoration: none;
      border-radius: 5px;
    }

    .section-box {
      background-color: white;
      border-radius: 5px;
      padding: 20px;
    }

    .latest-announcements { grid-column: 1 / 2; grid-row: 2 / 4; }
    .quote { 
      grid-column: 2 / 3; 
      grid-row: 2 / 3; 
      background-color: #b7410e;
      color: #ffffff;
      text-align: center;
      display: flex;
      flex-direction: column;
      justify-content: center;
      padding: 40px 20px;
    }
    .quote h2 { font-size: 4em; margin: 0; }
    .video-summary { grid-column: 2 / 3; grid-row: 3 / 4; }
    .whos-online { grid-column: 1 / 2; grid-row: 4 / 5; }
    .recent-topics { grid-column: 3 / 4; grid-row: 2 / 4; }
    .forum-statistics { grid-column: 3 / 4; grid-row: 4 / 5; }

    .announcement-item, .topic-item {
      display: flex;
      align-items: center;
      margin-bottom: 10px;
    }

    .announcement-item img, .topic-item img {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      margin-right: 10px;
    }

    .whos-online img {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      margin-right: 5px;
    }

    .forum-statistics .stat-number {
      font-size: 3em;
      color: #e17055;
    }

    .forum-statistics .stat-label {
      text-transform: uppercase;
      font-size: 0.8em;
      color: #777;
    }
  </style>

  <div class="dashboard-grid">
    <div class="welcome-banner">
      <p>Welcome on the new Auroville Community platform! We hope this can become a space for true connection, in a spirit of respect and mutuality.</p>
      <a href="/learn-more" class="btn-learn-more">Learn more</a>
    </div>

    <section class="latest-announcements section-box">
      <h2>Latest Announcements</h2>
      {{#each model.announcements as |announcement|}}
        <div class="announcement-item">
          <img src={{announcement.image}} alt={{announcement.title}}>
          <div>
            <h3>{{announcement.title}}</h3>
            <p>{{announcement.date}}</p>
          </div>
        </div>
      {{/each}}
    </section>

    <section class="quote">
      <h2>66</h2>
      <p>All's miracle and can by miracle change.</p>
      <p class="quote-source">BOOK I, CANTO II</p>
    </section>

    <section class="video-summary section-box">
      <h2>Video Summary</h2>
      <iframe width="100%" height="200" src="https://www.youtube.com/embed/VIDEO_ID" frameborder="0" allowfullscreen></iframe>
    </section>

    <section class="whos-online section-box">
      <h2>Who's Online</h2>
      {{#each model.onlineUsers as |user|}}
        <img src={{user.avatar_template}} alt={{user.username}}>
      {{/each}}
    </section>

    <section class="recent-topics section-box">
      <h2>Recent Topics</h2>
      {{#each model.recentTopics as |topic|}}
        <div class="topic-item">
          <img src={{topic.user.avatar_template}} alt={{topic.user.username}}>
          <div>
            <h3>{{topic.title}}</h3>
            <p>by {{topic.user.username}}</p>
          </div>
        </div>
      {{/each}}
    </section>

    <section class="forum-statistics section-box">
      <h2>Forum Statistics</h2>
      <div class="stat-item">
        <span class="stat-number">{{model.registeredUsersCount}}</span>
        <span class="stat-label">REGISTERED USERS</span>
      </div>
    </section>
  </div>
</script>
